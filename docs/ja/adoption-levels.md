# 5段階の段階的採用パス

## 概要

VDD Framework は一度に全てを導入する必要はない。プロジェクトの成熟度やニーズに応じて、5段階で段階的に採用できる。各レベルは前のレベルを包含し、明確な価値提案を持つ。

## 採用レベル一覧

| Level | 名前 | 価値提案 |
|-------|------|---------|
| L1 | Safe Development | 「AI が未コミット作業を壊さない」 |
| L2 | Structured Releases | 「構造化されたリリースワークフロー」 |
| L3 | Quality-Enforced | 「AI が自律的に実装・テスト・レビュー」 |
| L4 | Vision-Aligned | 「ビジョンに基づく戦略的開発」 |
| L5 | Full Autonomous | 「完全自律パイプライン」 |

---

## Level 1: Safe Development

> 「AI が未コミット作業を壊さない」

### 解決する問題

AI がメインワークツリーでブランチを切り替えたり、ファイルを上書きすることで、未コミットの作業が消失するリスクがある。

### 含まれるコンポーネント

| コンポーネント | 種類 | 強制レベル | 説明 |
|--------------|------|-----------|------|
| `worktree-guard.sh` | hook | L5: deny | メインワークツリーでのファイル編集をブロック |
| `commit-guard.sh` | hook | L5: deny | 危険な git 操作（force push, --no-verify 等）をブロック |
| `/git-worktrees` | skill | - | worktree の作成・管理を支援 |

### 導入後の変化

- AI は全てのコード変更を worktree 上で行う
- メインワークツリーは読み取り専用として保護される
- force push や hook スキップが技術的に不可能になる

### この段階で得られる価値

- **安全性**: AI が意図しないファイル変更を行うリスクがゼロになる
- **並列性**: 複数の作業を独立した worktree で同時進行できる
- **低コスト**: hook 2つとスキル1つだけで、既存ワークフローへの影響が最小

---

## Level 2: Structured Releases

> 「構造化されたリリースワークフロー」

### 解決する問題

コミット単位での作業管理では、「何がリリース可能な状態か」が不明確になる。リリース粒度の統一と品質チェックが属人的になりがち。

### 含まれるコンポーネント（L1 に加えて）

| コンポーネント | 種類 | 強制レベル | 説明 |
|--------------|------|-----------|------|
| RDD リマインダー | hook | L2: remind | main ブランチで実装リクエスト検出時にリマインド |
| リリース仕様書テンプレート | template | - | リリース仕様書の雛形 |
| precheck | skill/command | - | プッシュ前のチェック実行 |
| conversation logger | hook | - | 対話ログを自動保存 |

### 導入後の変化

- リリース仕様書を作成してから実装に入るワークフローが確立
- 「main で直接実装しない」という習慣が hook リマインダーで促進
- 対話ログが自動保存され、設計経緯を後から辿れる

### この段階で得られる価値

- **構造化**: リリース単位での作業管理が可能
- **追跡可能性**: 設計の経緯と対話ログが保存される
- **品質ゲート**: プッシュ前のチェックが標準化される

---

## Level 3: Quality-Enforced

> 「AI が自律的に実装・テスト・レビュー」

### 解決する問題

AI に実装を任せても、テストやレビューの品質が不安定。サブエージェントがルールを守らないリスクがある。

### 含まれるコンポーネント（L2 に加えて）

| コンポーネント | 種類 | 強制レベル | 説明 |
|--------------|------|-----------|------|
| `subagent-rules/inject.sh` | hook | L3: inject | サブエージェントへのルール自動注入 |
| `review-enforcement/check.sh` | hook | L4: block | レビュー未実行を検出しブロック |
| エージェント定義 | agent | - | code-reviewer, implementer 等 |
| TDD 関連スキル | skill | - | TDD 駆動の実装支援 |

### 導入後の変化

- サブエージェントに TDD、worktree 使用、レビュー義務が自動注入される
- リリースブランチのマージ前にレビューが必須化される
- 専門エージェント（レビュアー、実装者）が定義され、品質が安定する

### この段階で得られる価値

- **自律的品質保証**: AI がテスト・レビューを自律的に完結
- **一貫性**: サブエージェントも同じルールに従う
- **スケーラビリティ**: 並列実装が安全に行える

---

## Level 4: Vision-Aligned

> 「ビジョンに基づく戦略的開発」

### 解決する問題

実装品質は保たれても、「何を作るべきか」「なぜ今それを作るのか」の判断が属人的。意思決定の理由が消失しやすい。

### 含まれるコンポーネント（L3 に加えて）

| コンポーネント | 種類 | 説明 |
|--------------|------|------|
| VDD アーティファクト | document | VISION.md, DECISIONS.md, DAILY_SCORE.md |
| 意思決定権限マトリクス | document | 誰が何を決めるかの明示 |
| レビュアープロファイル | document | レビュアーの認知特性に基づく表現最適化 |
| 8項目必須チェック | process | Vision/Decision 整合チェック |

### 導入後の変化

- プロジェクトのビジョンが明文化され、全ての実装がビジョンに対して検証される
- 意思決定が理由（context）とともに台帳に記録される
- 「なぜこの機能を作るのか」が常に追跡可能

### この段階で得られる価値

- **戦略的一貫性**: ビジョンからリリースまでの一貫した接続
- **意思決定の永続化**: 判断理由が消失しない
- **チームの認知負荷軽減**: 「何をすべきか」の判断基準が明確

---

## Level 5: Full Autonomous

> 「完全自律パイプライン」

### 解決する問題

AI の自律実装が開発者のローカルマシン（MacBook 等）に依存しており、スリープやシャットダウンで中断される。また、単一 AI の視点ではレビューの見落としが生じる。

### 含まれるコンポーネント（L4 に加えて）

| コンポーネント | 種類 | 説明 |
|--------------|------|------|
| クラウド実行環境 | infrastructure | VPS でのヘッドレス実行 |
| ディベートパートナー | process | 外部 AI とのビジョン整合検証 |
| 多角的 AI レビュー | process | 異なる AI によるレビュー |
| 通知システム | infrastructure | 進捗・完了の自動通知 |

### 導入後の変化

- 設計対話はローカルで行い、実装はクラウドに任せて MacBook を閉じられる
- 複数の AI が異なる視点でレビューし、見落としを減らす
- ディベートパートナーがビジョン整合を事前に検証する

### この段階で得られる価値

- **24時間稼働**: 開発者のマシンに依存しない自律実行
- **多角的品質保証**: 異なる AI の視点による網羅的レビュー
- **ビジョン整合の強化**: ディベートによる事前検証

---

## レベルの選択指針

| プロジェクトの状況 | 推奨レベル |
|-------------------|-----------|
| AI コード補助を初めて導入する | L1 |
| AI にタスクを任せ始めている | L2 |
| AI に実装を自律的に任せたい | L3 |
| チームの方向性を明確にしたい | L4 |
| AI の完全自律パイプラインを構築したい | L5 |

### 昇格の判断基準

- 現在のレベルの価値を十分に享受している
- 現在のレベルで解決できない問題が出てきている
- チームが次のレベルの運用コストを受け入れられる

## 関連ドキュメント

- [getting-started.md](./getting-started.md) — 導入手順
- [enforcement-levels.md](./enforcement-levels.md) — 強制レベル階層
- [philosophy.md](./philosophy.md) — VDD の哲学
